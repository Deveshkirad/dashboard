/* ===================================================================
   Main Layout Styles
=================================================================== */

:root {
    --sidebar-width: 250px;
    --navbar-height: 56px; /* Standard Bootstrap navbar height */
    --transition-speed: 0.3s;

    /* Sidebar colors are independent of the theme */
    --sidebar-bg: #111827;    /* Gray 900 */
    --sidebar-text: rgba(255, 255, 255, 0.7);
    --sidebar-text-hover: #ffffff;
}

body {
    /* Colors are now controlled by theme.css */
    font-family: 'Poppins', sans-serif;
}

/* --- Navbar --- */
.navbar.fixed-top {
    /* background and border are controlled by theme.css */
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.07), 0 1px 2px 0 rgba(0, 0, 0, 0.04);
    z-index: 1030;
}

.sidebar-toggler {
    border: none;
    background: transparent;
    font-size: 1.25rem;
    color: var(--text-muted-color);
}

/* --- Sidebar --- */
.sidebar {
    width: var(--sidebar-width);
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1020; /* Below navbar */
    background-color: var(--sidebar-bg); /* Dark sidebar */
    color: var(--sidebar-text);
    padding-top: var(--navbar-height);
    transition: transform var(--transition-speed) ease-in-out;
}

.sidebar-header {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.sidebar .nav-link {
    color: var(--sidebar-text);
    padding: 0.75rem 1rem;
    border-radius: 0.375rem;
    transition: background-color 0.2s, color 0.2s;
}

.sidebar .nav-link:hover {
    background-color: rgba(255, 255, 255, 0.05);
    color: var(--sidebar-text-hover);
}

.sidebar .nav-link.active {
    color: var(--sidebar-text-hover);
    font-weight: 500;
}

/* --- Main Content --- */
.main-content {
    padding-top: calc(var(--navbar-height) + 1.5rem); /* p-4 top + navbar height */
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    padding-bottom: 1.5rem;
    margin-left: var(--sidebar-width);
    transition: margin-left var(--transition-speed) ease-in-out;
}

/* --- Toggled State --- */
body.sidebar-toggled .sidebar {
    transform: translateX(calc(-1 * var(--sidebar-width)));
}

body.sidebar-toggled .main-content,
body.sidebar-toggled .sticky-footer {
    margin-left: 0;
}

/* --- Responsive Styles for Mobile --- */
@media (max-width: 991.98px) {
    /* On mobile, the sidebar is hidden by default */
    .sidebar {
        transform: translateX(calc(-1 * var(--sidebar-width)));
    }

    /* On mobile, the main content always takes full width */
    .main-content,
    .sticky-footer {
        margin-left: 0;
    }

    /* When toggled on mobile, the sidebar becomes visible by overriding the default hidden state */
    body.sidebar-toggled .sidebar {
        transform: translateX(0);
    }
}

/* --- Footer --- */
.sticky-footer {
    padding: 1.5rem 1.5rem;
    background-color: var(--header-bg);
    box-shadow: 0 -0.1rem 1rem 0 rgba(58, 59, 69, 0.1); /* Subtle shadow on top */
    margin-left: var(--sidebar-width);
    transition: margin-left var(--transition-speed) ease-in-out;
    border-top: 1px solid var(--header-border-color);
}

.copyright {
    line-height: 1;
    font-size: .8rem;
    color: var(--text-muted-color);
}

/* ===================================================================
   Global Component Overrides
=================================================================== */
.card {
    /* background and border are controlled by theme.css */
    border-radius: 0.5rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.07), 0 1px 2px 0 rgba(0, 0, 0, 0.04);
}

.card-header {
    /* background and border are controlled by theme.css */
    font-weight: 500;
    color: var(--text-color);
}

.btn-primary {
    background-color: var(--link-color);
    border-color: var(--link-color);
}

.btn-primary:hover {
    filter: brightness(1.1);
}

.form-control, .form-select {
    /* border is controlled by theme.css */
}

.form-control:focus, .form-select:focus {
    /* focus state is controlled by theme.css */
}

.progress-bar {
    background-color: var(--link-color);
}

/* Modern Badges */
.badge.bg-success { background-color: #d1fae5 !important; color: #065f46 !important; }
.badge.bg-danger { background-color: #fee2e2 !important; color: #991b1b !important; }
.badge.bg-warning { background-color: #fef3c7 !important; color: #92400e !important; }

/* Text Colors */
.text-primary { color: var(--text-primary-color) !important; }
.text-success { color: var(--text-success-color) !important; }
.text-info { color: var(--text-info-color) !important; }
.text-warning { color: var(--text-warning-color) !important; }
.text-danger { color: var(--text-danger-color) !important; }